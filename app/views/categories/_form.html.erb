<%= form_with model: [category_group, category], class: "space-y-6" do |f| %>
  <div class="card p-6 space-y-6">
    <%# Preview badge %>
    <div class="flex items-center gap-2">
      <span class="text-sm text-neutral-500">Preview:</span>
      <span class="category-badge-<%= category_group.color %>"><%= category.name.presence || "Category Name" %></span>
    </div>

    <%# Name %>
    <div>
      <%= f.label :name, class: "form-label" %>
      <%= f.text_field :name, class: "form-input", placeholder: "e.g., Rent, Groceries, Savings" %>
      <% if category.errors[:name].any? %>
        <p class="form-error"><%= category.errors[:name].join(", ") %></p>
      <% end %>
    </div>
  </div>

  <%# Actions %>
  <div class="flex justify-end gap-3">
    <%= link_to "Cancel", category_groups_path, class: "btn-secondary" %>
    <%= f.submit category.persisted? ? "Save Changes" : "Create Category", class: "btn-primary cursor-pointer", data: { turbo_submits_with: "Saving..." } %>
  </div>
<% end %>
